<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Premium Otel YÃ¶netim Sistemi</title>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;600;700&family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf-autotable/3.5.31/jspdf.plugin.autotable.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.18.5/xlsx.full.min.js"></script>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect, useRef, useMemo } = React;

        // ==================== SUPABASE CONFIG ====================
        const SUPABASE_URL = 'https://eecjimwhcenxyrtepuph.supabase.co';
        const SUPABASE_ANON_KEY = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImVlY2ppbXdoY2VueHlydGVwdXBoIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NzAzNTMxMjYsImV4cCI6MjA4NTkyOTEyNn0.OVezVlmS166fajXesj0v2rTSyZlW6VNCnyjJPisbwtc';
        const supabase = window.supabase.createClient(SUPABASE_URL, SUPABASE_ANON_KEY);

        // ==================== SESSION MANAGEMENT ====================
        const SESSION_KEY = 'hotel_user_session';
        
        const saveSession = (user) => {
            sessionStorage.setItem(SESSION_KEY, JSON.stringify(user));
        };
        
        const loadSession = () => {
            const session = sessionStorage.getItem(SESSION_KEY);
            return session ? JSON.parse(session) : null;
        };
        
        const clearSession = () => {
            sessionStorage.removeItem(SESSION_KEY);
        };

        // ==================== CONSTANTS ====================
        const DEPARTMENTS = [
            'Yemek ve Ä°Ã§ecek', 'Temizlik', 'Ã–n BÃ¼ro', 'Misafir Ä°liÅŸkileri',
            'GÃ¼venlik ve Cankurtaran', 'Teknik Servis', 'Animasyon ve EÄŸlence', 'DiÄŸer'
        ];

        const AMENITY_TYPES = [
            'Meyve Sepeti', 'Ã‡ikolata', 'Åampanya', 'Ã‡iÃ§ek', 
            'Pasta', 'Welcome Drink', 'Ã–zel Ä°kram', 'DiÄŸer'
        ];

        // ==================== UTILITIES ====================
        const isOverdue = (feedback) => {
            if (feedback.type !== 'complaint' || feedback.status !== 'open') return false;
            const days = Math.ceil((new Date() - new Date(feedback.date)) / (1000 * 60 * 60 * 24));
            return days > 1;
        };

        const getOverdueDays = (feedback) => {
            return Math.ceil((new Date() - new Date(feedback.date)) / (1000 * 60 * 60 * 24));
        };

        const formatDate = (dateString) => {
            return new Date(dateString).toLocaleDateString('tr-TR', { 
                day: 'numeric', month: 'long', year: 'numeric' 
            });
        };

        const formatDateTime = (dateString) => {
            return new Date(dateString).toLocaleDateString('tr-TR', { 
                day: 'numeric', month: 'long', year: 'numeric',
                hour: '2-digit', minute: '2-digit'
            });
        };

        // ==================== EXPORT FUNCTIONS ====================
        const exportToExcel = (feedbacks) => {
            const data = feedbacks.map(fb => ({
                'Tarih': fb.date,
                'Tip': fb.type === 'complaint' ? 'Åikayet' : 'Olumlu',
                'Departman': fb.department,
                'BaÅŸlÄ±k': fb.title,
                'AÃ§Ä±klama': fb.description,
                'Ã‡Ã¶zÃ¼m': fb.resolution || '-',
                'Misafir': fb.guest_name,
                'Oda': fb.room_number,
                'Durum': fb.status === 'open' ? 'AÃ§Ä±k' : 'KapalÄ±',
                'Kaydeden': fb.created_by
            }));

            const ws = XLSX.utils.json_to_sheet(data);
            const wb = XLSX.utils.book_new();
            XLSX.utils.book_append_sheet(wb, ws, "Geri Bildirimler");
            XLSX.writeFile(wb, `geri-bildirimler-${new Date().toISOString().split('T')[0]}.xlsx`);
        };

        const exportAmenitiesExcel = (amenities) => {
            const data = amenities.map(am => ({
                'Tarih': formatDateTime(am.created_at),
                'Oda': am.room_number,
                'Ä°kram': am.amenity_type,
                'Sebep': am.reason,
                'Not': am.notes || '-',
                'GÃ¶nderen': am.created_by
            }));

            const ws = XLSX.utils.json_to_sheet(data);
            const wb = XLSX.utils.book_new();
            XLSX.utils.book_append_sheet(wb, ws, "Oda Ä°kramlarÄ±");
            XLSX.writeFile(wb, `oda-ikramlari-${new Date().toISOString().split('T')[0]}.xlsx`);
        };

        // ==================== CHART COMPONENT ====================
        function ChartComponent({ type, data }) {
            const chartRef = useRef(null);
            const chartInstanceRef = useRef(null);

            useEffect(() => {
                if (!chartRef.current) return;
                if (chartInstanceRef.current) chartInstanceRef.current.destroy();

                const ctx = chartRef.current.getContext('2d');

                if (type === 'bar') {
                    chartInstanceRef.current = new Chart(ctx, {
                        type: 'bar',
                        data: {
                            labels: data.map(d => d.name),
                            datasets: [
                                { label: 'Åikayet', data: data.map(d => d.complaints), backgroundColor: '#ef4444' },
                                { label: 'Olumlu', data: data.map(d => d.positive), backgroundColor: '#22c55e' }
                            ]
                        },
                        options: {
                            responsive: true,
                            maintainAspectRatio: false,
                            plugins: { legend: { position: 'top' } },
                            scales: { y: { beginAtZero: true } }
                        }
                    });
                } else if (type === 'pie') {
                    chartInstanceRef.current = new Chart(ctx, {
                        type: 'doughnut',
                        data: {
                            labels: data.map(d => d.name),
                            datasets: [{ data: data.map(d => d.value), backgroundColor: data.map(d => d.color) }]
                        },
                        options: {
                            responsive: true,
                            maintainAspectRatio: false,
                            plugins: { legend: { position: 'bottom' } }
                        }
                    });
                } else if (type === 'line') {
                    chartInstanceRef.current = new Chart(ctx, {
                        type: 'line',
                        data: {
                            labels: data.map(d => d.date),
                            datasets: [{
                                label: 'Toplam',
                                data: data.map(d => d.count),
                                borderColor: '#14285a',
                                backgroundColor: 'rgba(20, 40, 100, 0.1)',
                                tension: 0.4,
                                fill: true
                            }]
                        },
                        options: {
                            responsive: true,
                            maintainAspectRatio: false,
                            plugins: { legend: { display: false } },
                            scales: { y: { beginAtZero: true } }
                        }
                    });
                }

                return () => {
                    if (chartInstanceRef.current) chartInstanceRef.current.destroy();
                };
            }, [type, data]);

            return <canvas ref={chartRef}></canvas>;
        }

        // ==================== MAIN APP ====================
        function App() {
            const [currentUser, setCurrentUser] = useState(null);
            const [users, setUsers] = useState([]);
            const [feedbacks, setFeedbacks] = useState([]);
            const [amenities, setAmenities] = useState([]);
            const [restaurants, setRestaurants] = useState([]);
            const [reservations, setReservations] = useState([]);
            const [currentView, setCurrentView] = useState('dashboard');
            const [filters, setFilters] = useState({
                department: 'all', type: 'all', dateFrom: '', dateTo: '', status: 'all', search: ''
            });
            const [sortBy, setSortBy] = useState('date');
            const [sortOrder, setSortOrder] = useState('desc');
            const [showModal, setShowModal] = useState(false);
            const [modalType, setModalType] = useState('');
            const [editingItem, setEditingItem] = useState(null);

            // Session yÃ¶netimi
            useEffect(() => {
                const savedSession = loadSession();
                if (savedSession) setCurrentUser(savedSession);
            }, []);

            useEffect(() => {
                if (currentUser) saveSession(currentUser);
            }, [currentUser]);

            // Verileri yÃ¼kle
            const loadData = async () => {
                try {
                    const { data: usersData } = await supabase.from('users').select('*').order('id');
                    const { data: feedbacksData } = await supabase.from('feedbacks').select('*').order('created_at', { ascending: false });
                    const { data: amenitiesData } = await supabase.from('amenities').select('*').order('created_at', { ascending: false });
                    const { data: restaurantsData } = await supabase.from('restaurants').select('*').order('name');
                    const { data: reservationsData } = await supabase.from('reservations').select('*, restaurants(name)').order('reservation_date', { ascending: false });
                    
                    setUsers(usersData || []);
                    setFeedbacks(feedbacksData || []);
                    setAmenities(amenitiesData || []);
                    setRestaurants(restaurantsData || []);
                    setReservations(reservationsData || []);
                } catch (error) {
                    console.error('YÃ¼kleme hatasÄ±:', error);
                }
            };

            useEffect(() => {
                if (currentUser) loadData();
            }, [currentUser]);

            const handleLogout = () => {
                clearSession();
                setCurrentUser(null);
            };

            // Filtreleme
            const getFilteredFeedbacks = () => {
                let filtered = feedbacks.filter(fb => {
                    if (filters.department !== 'all' && fb.department !== filters.department) return false;
                    if (filters.type !== 'all' && fb.type !== filters.type) return false;
                    if (filters.status !== 'all' && fb.status !== filters.status) return false;
                    if (filters.dateFrom && fb.date < filters.dateFrom) return false;
                    if (filters.dateTo && fb.date > filters.dateTo) return false;
                    if (filters.search) {
                        const s = filters.search.toLowerCase();
                        return fb.title.toLowerCase().includes(s) || fb.description.toLowerCase().includes(s) ||
                               fb.guest_name.toLowerCase().includes(s) || fb.room_number.toLowerCase().includes(s);
                    }
                    return true;
                });

                filtered.sort((a, b) => {
                    let aVal, bVal;
                    if (sortBy === 'date') { aVal = new Date(a.date); bVal = new Date(b.date); }
                    else if (sortBy === 'room') { aVal = parseInt(a.room_number) || 0; bVal = parseInt(b.room_number) || 0; }
                    else if (sortBy === 'status') { aVal = a.status; bVal = b.status; }
                    return sortOrder === 'asc' ? (aVal > bVal ? 1 : -1) : (aVal < bVal ? 1 : -1);
                });

                return filtered;
            };

            // Ä°statistikler
            const stats = useMemo(() => {
                const filtered = getFilteredFeedbacks();
                const total = filtered.length;
                const complaints = filtered.filter(f => f.type === 'complaint').length;
                const positive = filtered.filter(f => f.type === 'positive').length;
                const open = filtered.filter(f => f.status === 'open').length;
                const overdue = filtered.filter(f => isOverdue(f)).length;

                const departmentStats = DEPARTMENTS.map(dept => ({
                    name: dept,
                    complaints: filtered.filter(f => f.department === dept && f.type === 'complaint').length,
                    positive: filtered.filter(f => f.department === dept && f.type === 'positive').length
                }));

                const trendData = [];
                for (let i = 6; i >= 0; i--) {
                    const date = new Date();
                    date.setDate(date.getDate() - i);
                    const dateStr = date.toISOString().split('T')[0];
                    trendData.push({
                        date: date.toLocaleDateString('tr-TR', { day: 'numeric', month: 'short' }),
                        count: feedbacks.filter(f => f.date === dateStr).length
                    });
                }

                const closedComplaints = feedbacks.filter(f => f.type === 'complaint' && f.status === 'closed');
                const avgResponseTime = closedComplaints.length > 0
                    ? Math.round(closedComplaints.reduce((sum, f) => {
                        const days = Math.ceil((new Date(f.created_at) - new Date(f.date)) / (1000 * 60 * 60 * 24));
                        return sum + Math.abs(days);
                    }, 0) / closedComplaints.length)
                    : 0;

                return { total, complaints, positive, open, overdue, departmentStats, trendData, avgResponseTime };
            }, [feedbacks, filters, sortBy, sortOrder]);

            const isAdmin = currentUser?.role === 'admin';

            // ==================== LOGIN ====================
            if (!currentUser) {
                return <LoginForm onLogin={setCurrentUser} />;
            }

            // ==================== MAIN UI ====================
            return (
                <div className="app">
                    <Sidebar 
                        currentView={currentView} 
                        setCurrentView={setCurrentView}
                        currentUser={currentUser}
                        isAdmin={isAdmin}
                        onLogout={handleLogout}
                    />

                    <main className="main-content">
                        {currentView === 'dashboard' && <DashboardView stats={stats} feedbacks={feedbacks.slice(0, 5)} />}
                        
                        {currentView === 'feedbacks' && (
                            <FeedbacksView
                                feedbacks={getFilteredFeedbacks()}
                                filters={filters}
                                setFilters={setFilters}
                                sortBy={sortBy}
                                setSortBy={setSortBy}
                                sortOrder={sortOrder}
                                setSortOrder={setSortOrder}
                                isAdmin={isAdmin}
                                onAdd={() => { setModalType('feedback'); setEditingItem(null); setShowModal(true); }}
                                onEdit={(item) => { setEditingItem(item); setModalType('feedback'); setShowModal(true); }}
                                onDelete={async (id) => {
                                    if (!confirm('Silmek istediÄŸinizden emin misiniz?')) return;
                                    await supabase.from('feedbacks').delete().eq('id', id);
                                    await loadData();
                                }}
                                stats={stats}
                            />
                        )}

                        {currentView === 'amenities' && (
                            <AmenitiesView
                                amenities={amenities}
                                isAdmin={isAdmin}
                                onAdd={() => { setModalType('amenity'); setEditingItem(null); setShowModal(true); }}
                                onDelete={async (id) => {
                                    if (!confirm('Silmek istediÄŸinizden emin misiniz?')) return;
                                    await supabase.from('amenities').delete().eq('id', id);
                                    await loadData();
                                }}
                            />
                        )}

                        {currentView === 'alacarte' && (
                            <AlaCarteView
                                restaurants={restaurants}
                                reservations={reservations}
                                isAdmin={isAdmin}
                                onAddRestaurant={() => { setModalType('restaurant'); setEditingItem(null); setShowModal(true); }}
                                onEditRestaurant={(item) => { setEditingItem(item); setModalType('restaurant'); setShowModal(true); }}
                                onDeleteRestaurant={async (id) => {
                                    if (!confirm('RestoranÄ± silmek istediÄŸinizden emin misiniz?')) return;
                                    await supabase.from('restaurants').delete().eq('id', id);
                                    await loadData();
                                }}
                                onAddReservation={() => { setModalType('reservation'); setEditingItem(null); setShowModal(true); }}
                                onEditReservation={(item) => { setEditingItem(item); setModalType('reservation'); setShowModal(true); }}
                                onDeleteReservation={async (id) => {
                                    if (!confirm('Rezervasyonu silmek istediÄŸinizden emin misiniz?')) return;
                                    await supabase.from('reservations').delete().eq('id', id);
                                    await loadData();
                                }}
                            />
                        )}

                        {currentView === 'analytics' && <AnalyticsView stats={stats} />}
                        
                        {currentView === 'users' && isAdmin && (
                            <UsersView
                                users={users}
                                currentUser={currentUser}
                                onAdd={() => { setModalType('user'); setEditingItem(null); setShowModal(true); }}
                                onEdit={(item) => { setEditingItem(item); setModalType('user'); setShowModal(true); }}
                                onDelete={async (id) => {
                                    if (!confirm('Silmek istediÄŸinizden emin misiniz?')) return;
                                    await supabase.from('users').delete().eq('id', id);
                                    await loadData();
                                }}
                            />
                        )}
                    </main>

                    {showModal && (
                        <Modal
                            type={modalType}
                            item={editingItem}
                            currentUser={currentUser}
                            onClose={() => { setShowModal(false); setEditingItem(null); }}
                            onSave={async (data) => {
                                try {
                                    if (modalType === 'feedback') {
                                        // Ã‡OK Ã–NEMLÄ°: Åikayet kapatÄ±lÄ±rken Ã§Ã¶zÃ¼m zorunlu
                                        if (data.type === 'complaint' && data.status === 'closed') {
                                            if (!data.resolution || data.resolution.trim() === '') {
                                                alert('âš ï¸ Åikayet kapatÄ±lÄ±rken Ã§Ã¶zÃ¼m aÃ§Ä±klamasÄ± zorunludur!');
                                                return;
                                            }
                                        }

                                        if (editingItem) {
                                            await supabase.from('feedbacks').update(data).eq('id', editingItem.id);
                                        } else {
                                            await supabase.from('feedbacks').insert([{ ...data, created_by: currentUser.username }]);
                                        }
                                    } else if (modalType === 'amenity') {
                                        await supabase.from('amenities').insert([{ ...data, created_by: currentUser.username }]);
                                    } else if (modalType === 'restaurant') {
                                        if (editingItem) {
                                            await supabase.from('restaurants').update(data).eq('id', editingItem.id);
                                        } else {
                                            await supabase.from('restaurants').insert([{ ...data, created_by: currentUser.username }]);
                                        }
                                    } else if (modalType === 'reservation') {
                                        if (editingItem) {
                                            await supabase.from('reservations').update(data).eq('id', editingItem.id);
                                        } else {
                                            await supabase.from('reservations').insert([{ ...data, created_by: currentUser.username }]);
                                        }
                                    } else {
                                        const updateData = { ...data };
                                        if (!updateData.password) delete updateData.password;
                                        
                                        if (editingItem) {
                                            await supabase.from('users').update(updateData).eq('id', editingItem.id);
                                        } else {
                                            await supabase.from('users').insert([data]);
                                        }
                                    }
                                    await loadData();
                                    setShowModal(false);
                                    setEditingItem(null);
                                } catch (error) {
                                    alert('Hata: ' + error.message);
                                }
                            }}
                        />
                    )}
                </div>
            );
        }

        // ==================== COMPONENTS ====================
        
        function LoginForm({ onLogin }) {
            const [username, setUsername] = useState('');
            const [password, setPassword] = useState('');
            const [error, setError] = useState('');
            const [loading, setLoading] = useState(false);

            const handleSubmit = async (e) => {
                e.preventDefault();
                setLoading(true);
                setError('');

                try {
                    const { data, error } = await supabase
                        .from('users')
                        .select('*')
                        .eq('username', username)
                        .eq('password', password)
                        .single();

                    if (error || !data) {
                        setError('KullanÄ±cÄ± adÄ± veya ÅŸifre hatalÄ±!');
                    } else {
                        onLogin(data);
                    }
                } catch (err) {
                    setError('GiriÅŸ hatasÄ±!');
                } finally {
                    setLoading(false);
                }
            };

            return (
                <div className="login-page">
                    <div className="login-bg"></div>
                    <div className="login-container">
                        <div className="login-card">
                            <div className="login-logo">
                                <div className="logo-icon">ğŸ¨</div>
                                <h1>Premium Hotel</h1>
                                <p>Management System</p>
                            </div>
                            
                            <form onSubmit={handleSubmit} className="login-form">
                                {error && <div className="alert-error">{error}</div>}
                                
                                <div className="form-group">
                                    <label>KullanÄ±cÄ± AdÄ±</label>
                                    <input
                                        type="text"
                                        value={username}
                                        onChange={(e) => setUsername(e.target.value)}
                                        placeholder="KullanÄ±cÄ± adÄ±nÄ±zÄ± girin"
                                        disabled={loading}
                                        required
                                    />
                                </div>

                                <div className="form-group">
                                    <label>Åifre</label>
                                    <input
                                        type="password"
                                        value={password}
                                        onChange={(e) => setPassword(e.target.value)}
                                        placeholder="Åifrenizi girin"
                                        disabled={loading}
                                        required
                                    />
                                </div>

                                <button type="submit" className="btn-login" disabled={loading}>
                                    {loading ? <span className="spinner"></span> : 'GiriÅŸ Yap'}
                                </button>
                            </form>

                            <div className="login-footer">
                                <p className="demo-info">Demo Hesaplar</p>
                                <div className="demo-accounts">
                                    <span>ğŸ‘‘ admin / admin123</span>
                                    <span>ğŸ‘¤ kullanici / kullanici123</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            );
        }

        function Sidebar({ currentView, setCurrentView, currentUser, isAdmin, onLogout }) {
            return (
                <aside className="sidebar">
                    <div className="sidebar-header">
                        <div className="logo">
                            <div className="logo-icon">ğŸ¨</div>
                            <div>
                                <h2>Premium Hotel</h2>
                                <p>Management</p>
                            </div>
                        </div>
                    </div>

                    <nav className="sidebar-nav">
                        <button className={currentView === 'dashboard' ? 'active' : ''} onClick={() => setCurrentView('dashboard')}>
                            <span className="nav-icon">ğŸ“Š</span> Dashboard
                        </button>
                        <button className={currentView === 'feedbacks' ? 'active' : ''} onClick={() => setCurrentView('feedbacks')}>
                            <span className="nav-icon">ğŸ“</span> Geri Bildirimler
                        </button>
                        <button className={currentView === 'amenities' ? 'active' : ''} onClick={() => setCurrentView('amenities')}>
                            <span className="nav-icon">ğŸ</span> Oda Ä°kramlarÄ±
                        </button>
                        <button className={currentView === 'alacarte' ? 'active' : ''} onClick={() => setCurrentView('alacarte')}>
                            <span className="nav-icon">ğŸ½ï¸</span> A'la Carte
                        </button>
                        <button className={currentView === 'analytics' ? 'active' : ''} onClick={() => setCurrentView('analytics')}>
                            <span className="nav-icon">ğŸ“ˆ</span> Analiz & Raporlar
                        </button>
                        {isAdmin && (
                            <button className={currentView === 'users' ? 'active' : ''} onClick={() => setCurrentView('users')}>
                                <span className="nav-icon">ğŸ‘¥</span> KullanÄ±cÄ±lar
                            </button>
                        )}
                    </nav>

                    <div className="sidebar-footer">
                        <div className="user-card">
                            <div className="user-avatar">{currentUser.name.charAt(0)}</div>
                            <div className="user-info">
                                <p className="user-name">{currentUser.name}</p>
                                <p className="user-role">{isAdmin ? 'YÃ¶netici' : 'Personel'}</p>
                            </div>
                        </div>
                        <button className="btn-logout" onClick={onLogout}>
                            <span>ğŸšª</span> Ã‡Ä±kÄ±ÅŸ Yap
                        </button>
                    </div>
                </aside>
            );
        }

        function DashboardView({ stats, feedbacks }) {
            const pieData = [
                { name: 'Åikayet', value: stats.complaints, color: '#ef4444' },
                { name: 'Olumlu', value: stats.positive, color: '#22c55e' }
            ];

            return (
                <div className="view-container">
                    <div className="view-header">
                        <div>
                            <h1>Dashboard</h1>
                            <p>Genel bakÄ±ÅŸ ve Ã¶nemli metrikler</p>
                        </div>
                    </div>

                    <div className="kpi-grid">
                        <div className="kpi-card primary">
                            <div className="kpi-icon">ğŸ“Š</div>
                            <div className="kpi-content">
                                <p className="kpi-label">Toplam KayÄ±t</p>
                                <h3 className="kpi-value">{stats.total}</h3>
                            </div>
                        </div>

                        <div className="kpi-card danger">
                            <div className="kpi-icon">âš ï¸</div>
                            <div className="kpi-content">
                                <p className="kpi-label">Aktif Åikayetler</p>
                                <h3 className="kpi-value">{stats.complaints}</h3>
                                <p className="kpi-sub">{stats.overdue} gecikmiÅŸ</p>
                            </div>
                        </div>

                        <div className="kpi-card success">
                            <div className="kpi-icon">âœ¨</div>
                            <div className="kpi-content">
                                <p className="kpi-label">Olumlu DÃ¶nÃ¼ÅŸ</p>
                                <h3 className="kpi-value">{stats.positive}</h3>
                            </div>
                        </div>

                        <div className="kpi-card warning">
                            <div className="kpi-icon">â±ï¸</div>
                            <div className="kpi-content">
                                <p className="kpi-label">Ort. Ã‡Ã¶zÃ¼m SÃ¼resi</p>
                                <h3 className="kpi-value">{stats.avgResponseTime}</h3>
                                <p className="kpi-sub">gÃ¼n</p>
                            </div>
                        </div>
                    </div>

                    <div className="charts-row">
                        <div className="chart-card">
                            <h3>Son 7 GÃ¼n Trend</h3>
                            <div className="chart-container">
                                <ChartComponent type="line" data={stats.trendData} />
                            </div>
                        </div>

                        <div className="chart-card">
                            <h3>DaÄŸÄ±lÄ±m</h3>
                            <div className="chart-container">
                                <ChartComponent type="pie" data={pieData} />
                            </div>
                        </div>
                    </div>

                    <div className="recent-section">
                        <h3>Son Geri Bildirimler</h3>
                        <div className="feedback-quick-list">
                            {feedbacks.map(fb => (
                                <div key={fb.id} className={`quick-item ${fb.type} ${isOverdue(fb) ? 'overdue' : ''}`}>
                                    {isOverdue(fb) && (
                                        <div className="overdue-alert">ğŸš¨ {getOverdueDays(fb)} gÃ¼n gecikmiÅŸ</div>
                                    )}
                                    <div className="quick-header">
                                        <span className={`badge badge-${fb.type}`}>
                                            {fb.type === 'complaint' ? 'âš ï¸ Åikayet' : 'âœ¨ Olumlu'}
                                        </span>
                                        <span className="quick-date">{formatDate(fb.date)}</span>
                                    </div>
                                    <h4>{fb.title}</h4>
                                    <p>{fb.description.substring(0, 100)}...</p>
                                    <div className="quick-meta">
                                        <span>ğŸ‘¤ {fb.guest_name}</span>
                                        <span>ğŸ  Oda {fb.room_number}</span>
                                    </div>
                                </div>
                            ))}
                        </div>
                    </div>
                </div>
            );
        }

        function FeedbacksView({ feedbacks, filters, setFilters, sortBy, setSortBy, sortOrder, setSortOrder, isAdmin, onAdd, onEdit, onDelete, stats }) {
            return (
                <div className="view-container">
                    <div className="view-header">
                        <div>
                            <h1>Geri Bildirimler</h1>
                            <p>{feedbacks.length} kayÄ±t</p>
                        </div>
                        <div className="header-actions">
                            <button className="btn btn-secondary" onClick={() => exportToExcel(feedbacks)}>
                                ğŸ“Š Excel
                            </button>
                            {isAdmin && (
                                <button className="btn btn-primary" onClick={onAdd}>
                                    â• Yeni KayÄ±t
                                </button>
                            )}
                        </div>
                    </div>

                    <div className="filters-panel">
                        <div className="filter-row">
                            <input
                                type="search"
                                placeholder="ğŸ” Ara..."
                                value={filters.search}
                                onChange={(e) => setFilters({...filters, search: e.target.value})}
                                className="search-input"
                            />
                            
                            <select value={filters.department} onChange={(e) => setFilters({...filters, department: e.target.value})}>
                                <option value="all">TÃ¼m Departmanlar</option>
                                {DEPARTMENTS.map(d => <option key={d} value={d}>{d}</option>)}
                            </select>

                            <select value={filters.type} onChange={(e) => setFilters({...filters, type: e.target.value})}>
                                <option value="all">TÃ¼m Tipler</option>
                                <option value="complaint">Åikayet</option>
                                <option value="positive">Olumlu</option>
                            </select>

                            <select value={filters.status} onChange={(e) => setFilters({...filters, status: e.target.value})}>
                                <option value="all">TÃ¼m Durumlar</option>
                                <option value="open">AÃ§Ä±k</option>
                                <option value="closed">KapalÄ±</option>
                            </select>

                            <button className="btn btn-ghost" onClick={() => setFilters({ department: 'all', type: 'all', dateFrom: '', dateTo: '', status: 'all', search: '' })}>
                                âœ• Temizle
                            </button>
                        </div>

                        <div className="sort-row">
                            <span>SÄ±rala:</span>
                            <select value={sortBy} onChange={(e) => setSortBy(e.target.value)}>
                                <option value="date">Tarihe GÃ¶re</option>
                                <option value="room">Oda NumarasÄ±na GÃ¶re</option>
                                <option value="status">Duruma GÃ¶re</option>
                            </select>
                            <button className="btn btn-ghost" onClick={() => setSortOrder(sortOrder === 'asc' ? 'desc' : 'asc')}>
                                {sortOrder === 'asc' ? 'â†‘ Artan' : 'â†“ Azalan'}
                            </button>
                        </div>
                    </div>

                    <div className="feedbacks-grid">
                        {feedbacks.map(fb => (
                            <div key={fb.id} className={`feedback-card ${fb.type} ${isOverdue(fb) ? 'overdue' : ''}`}>
                                {isOverdue(fb) && (
                                    <div className="overdue-ribbon">ğŸš¨ {getOverdueDays(fb)} GÃœN GECÄ°KMÄ°Å</div>
                                )}
                                
                                <div className="card-header">
                                    <div className="card-badges">
                                        <span className={`badge badge-${fb.type}`}>
                                            {fb.type === 'complaint' ? 'âš ï¸ Åikayet' : 'âœ¨ Olumlu'}
                                        </span>
                                        <span className={`badge badge-status-${fb.status}`}>
                                            {fb.status === 'open' ? 'ğŸ”“ AÃ§Ä±k' : 'âœ… KapalÄ±'}
                                        </span>
                                        <span className="badge badge-dept">{fb.department}</span>
                                    </div>
                                    {isAdmin && (
                                        <div className="card-actions">
                                            <button className="action-btn" onClick={() => onEdit(fb)}>âœï¸</button>
                                            <button className="action-btn danger" onClick={() => onDelete(fb.id)}>ğŸ—‘ï¸</button>
                                        </div>
                                    )}
                                </div>

                                <h3 className="card-title">{fb.title}</h3>
                                <p className="card-description">{fb.description}</p>

                                {fb.resolution && (
                                    <div className="resolution-box">
                                        <strong>ğŸ’¡ Ã‡Ã¶zÃ¼m:</strong> {fb.resolution}
                                    </div>
                                )}

                                <div className="card-footer">
                                    <div className="card-meta">
                                        <span>ğŸ‘¤ {fb.guest_name}</span>
                                        <span>ğŸ  Oda {fb.room_number}</span>
                                    </div>
                                    <div className="card-date">ğŸ“… {formatDate(fb.date)}</div>
                                </div>
                            </div>
                        ))}
                    </div>
                </div>
            );
        }

        function AmenitiesView({ amenities, isAdmin, onAdd, onDelete }) {
            return (
                <div className="view-container">
                    <div className="view-header">
                        <div>
                            <h1>Oda Ä°kramlarÄ±</h1>
                            <p>{amenities.length} ikram kaydÄ±</p>
                        </div>
                        <div className="header-actions">
                            <button className="btn btn-secondary" onClick={() => exportAmenitiesExcel(amenities)}>
                                ğŸ“Š Excel
                            </button>
                            {isAdmin && (
                                <button className="btn btn-primary" onClick={onAdd}>
                                    â• Yeni Ä°kram
                                </button>
                            )}
                        </div>
                    </div>

                    <div className="amenities-grid">
                        {amenities.map(am => (
                            <div key={am.id} className="amenity-card">
                                <div className="amenity-header">
                                    <div className="amenity-icon">ğŸ</div>
                                    <div className="amenity-room">Oda {am.room_number}</div>
                                    {isAdmin && (
                                        <button className="action-btn danger" onClick={() => onDelete(am.id)}>ğŸ—‘ï¸</button>
                                    )}
                                </div>
                                <h3 className="amenity-type">{am.amenity_type}</h3>
                                <p className="amenity-reason"><strong>Sebep:</strong> {am.reason}</p>
                                {am.notes && <p className="amenity-notes"><strong>Not:</strong> {am.notes}</p>}
                                <div className="amenity-footer">
                                    <span>ğŸ‘¤ {am.created_by}</span>
                                    <span>ğŸ“… {formatDateTime(am.created_at)}</span>
                                </div>
                            </div>
                        ))}
                    </div>
                </div>
            );
        }

        function AnalyticsView({ stats }) {
            return (
                <div className="view-container">
                    <div className="view-header">
                        <div>
                            <h1>Analiz & Raporlar</h1>
                            <p>DetaylÄ± performans metrikleri</p>
                        </div>
                    </div>

                    <div className="analytics-grid">
                        <div className="analytics-card">
                            <h3>Departman PerformansÄ±</h3>
                            <div className="chart-container large">
                                <ChartComponent type="bar" data={stats.departmentStats} />
                            </div>
                        </div>

                        <div className="analytics-card">
                            <h3>Departman Detay</h3>
                            <div className="table-container">
                                <table className="data-table">
                                    <thead>
                                        <tr>
                                            <th>Departman</th>
                                            <th>Åikayet</th>
                                            <th>Olumlu</th>
                                            <th>BaÅŸarÄ± %</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        {stats.departmentStats.filter(d => d.complaints + d.positive > 0).map(dept => {
                                            const total = dept.complaints + dept.positive;
                                            const successRate = Math.round((dept.positive / total) * 100);
                                            return (
                                                <tr key={dept.name}>
                                                    <td><strong>{dept.name}</strong></td>
                                                    <td className="text-danger">{dept.complaints}</td>
                                                    <td className="text-success">{dept.positive}</td>
                                                    <td>
                                                        <div className="progress-bar">
                                                            <div className="progress-fill success" style={{width: `${successRate}%`}}></div>
                                                        </div>
                                                        <span className="progress-label">{successRate}%</span>
                                                    </td>
                                                </tr>
                                            );
                                        })}
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
            );
        }

        function AlaCarteView({ restaurants, reservations, isAdmin, onAddRestaurant, onEditRestaurant, onDeleteRestaurant, onAddReservation, onEditReservation, onDeleteReservation }) {
            const [activeTab, setActiveTab] = useState('reservations');

            return (
                <div className="view-container">
                    <div className="view-header">
                        <div>
                            <h1>A'la Carte Rezervasyon</h1>
                            <p>{restaurants.length} restoran, {reservations.length} rezervasyon</p>
                        </div>
                    </div>

                    <div className="tabs">
                        <button className={`tab ${activeTab === 'reservations' ? 'active' : ''}`} onClick={() => setActiveTab('reservations')}>
                            ğŸ“… Rezervasyonlar
                        </button>
                        <button className={`tab ${activeTab === 'restaurants' ? 'active' : ''}`} onClick={() => setActiveTab('restaurants')}>
                            ğŸ›ï¸ Restoranlar
                        </button>
                    </div>

                    {activeTab === 'reservations' && (
                        <div>
                            <div className="section-header">
                                <h2>Rezervasyonlar</h2>
                                {isAdmin && (
                                    <button className="btn btn-primary" onClick={onAddReservation}>
                                        â• Yeni Rezervasyon
                                    </button>
                                )}
                            </div>

                            <div className="reservations-grid">
                                {reservations.map(res => (
                                    <div key={res.id} className="reservation-card">
                                        <div className="card-header">
                                            <div className="reservation-restaurant">
                                                <h3>ğŸ½ï¸ {res.restaurants?.name || 'Restoran'}</h3>
                                                <span className={`badge badge-status-${res.status}`}>
                                                    {res.status === 'confirmed' ? 'âœ… OnaylÄ±' : res.status === 'cancelled' ? 'âŒ Ä°ptal' : 'â³ Beklemede'}
                                                </span>
                                            </div>
                                            {isAdmin && (
                                                <div className="card-actions">
                                                    <button className="action-btn" onClick={() => onEditReservation(res)}>âœï¸</button>
                                                    <button className="action-btn danger" onClick={() => onDeleteReservation(res.id)}>ğŸ—‘ï¸</button>
                                                </div>
                                            )}
                                        </div>

                                        <div className="reservation-details">
                                            <div className="detail-row">
                                                <span className="detail-label">ğŸ‘¤ Misafir:</span>
                                                <span className="detail-value">{res.guest_name}</span>
                                            </div>
                                            <div className="detail-row">
                                                <span className="detail-label">ğŸ  Oda:</span>
                                                <span className="detail-value">{res.room_number}</span>
                                            </div>
                                            {res.phone && (
                                                <div className="detail-row">
                                                    <span className="detail-label">ğŸ“ Telefon:</span>
                                                    <span className="detail-value">{res.phone}</span>
                                                </div>
                                            )}
                                            <div className="detail-row">
                                                <span className="detail-label">ğŸ‘¥ KiÅŸi SayÄ±sÄ±:</span>
                                                <span className="detail-value">{res.pax} kiÅŸi</span>
                                            </div>
                                            <div className="detail-row">
                                                <span className="detail-label">ğŸ“… Tarih:</span>
                                                <span className="detail-value">{formatDate(res.reservation_date)}</span>
                                            </div>
                                            <div className="detail-row">
                                                <span className="detail-label">ğŸ• Saat:</span>
                                                <span className="detail-value">{res.reservation_time}</span>
                                            </div>
                                            {res.special_requests && (
                                                <div className="detail-row">
                                                    <span className="detail-label">ğŸ’¬ Ã–zel Ä°stek:</span>
                                                    <span className="detail-value">{res.special_requests}</span>
                                                </div>
                                            )}
                                        </div>
                                    </div>
                                ))}
                            </div>
                        </div>
                    )}

                    {activeTab === 'restaurants' && (
                        <div>
                            <div className="section-header">
                                <h2>Restoranlar</h2>
                                {isAdmin && (
                                    <button className="btn btn-primary" onClick={onAddRestaurant}>
                                        â• Yeni Restoran
                                    </button>
                                )}
                            </div>

                            <div className="restaurants-grid">
                                {restaurants.map(rest => (
                                    <div key={rest.id} className="restaurant-card">
                                        <div className="card-header">
                                            <div>
                                                <h3>{rest.name}</h3>
                                                <span className={`badge ${rest.is_active ? 'badge-success' : 'badge-danger'}`}>
                                                    {rest.is_active ? 'âœ… Aktif' : 'âŒ Pasif'}
                                                </span>
                                            </div>
                                            {isAdmin && (
                                                <div className="card-actions">
                                                    <button className="action-btn" onClick={() => onEditRestaurant(rest)}>âœï¸</button>
                                                    <button className="action-btn danger" onClick={() => onDeleteRestaurant(rest.id)}>ğŸ—‘ï¸</button>
                                                </div>
                                            )}
                                        </div>

                                        <p className="restaurant-description">{rest.description}</p>

                                        <div className="restaurant-info">
                                            <div className="info-item">
                                                <span className="info-icon">ğŸª‘</span>
                                                <div>
                                                    <p className="info-label">Masa SayÄ±sÄ±</p>
                                                    <p className="info-value">{rest.table_count} masa</p>
                                                </div>
                                            </div>
                                            <div className="info-item">
                                                <span className="info-icon">ğŸ‘¥</span>
                                                <div>
                                                    <p className="info-label">Maks. Kapasite</p>
                                                    <p className="info-value">{rest.max_pax} kiÅŸi</p>
                                                </div>
                                            </div>
                                            <div className="info-item">
                                                <span className="info-icon">ğŸ•</span>
                                                <div>
                                                    <p className="info-label">Ã‡alÄ±ÅŸma Saati</p>
                                                    <p className="info-value">{rest.opening_time} - {rest.closing_time}</p>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                ))}
                            </div>
                        </div>
                    )}
                </div>
            );
        }

        function UsersView({ users, currentUser, onAdd, onEdit, onDelete }) {
            return (
                <div className="view-container">
                    <div className="view-header">
                        <div>
                            <h1>KullanÄ±cÄ± YÃ¶netimi</h1>
                            <p>{users.length} kullanÄ±cÄ±</p>
                        </div>
                        <button className="btn btn-primary" onClick={onAdd}>â• Yeni KullanÄ±cÄ±</button>
                    </div>

                    <div className="users-grid">
                        {users.map(user => (
                            <div key={user.id} className="user-card-item">
                                <div className="user-avatar-large">{user.name.charAt(0)}</div>
                                <div className="user-details">
                                    <h3>{user.name}</h3>
                                    <p>@{user.username}</p>
                                    <span className={`badge badge-${user.role}`}>
                                        {user.role === 'admin' ? 'ğŸ‘‘ YÃ¶netici' : 'ğŸ‘¤ Personel'}
                                    </span>
                                </div>
                                <div className="user-actions">
                                    <button className="action-btn" onClick={() => onEdit(user)}>âœï¸</button>
                                    {user.id !== currentUser.id && (
                                        <button className="action-btn danger" onClick={() => onDelete(user.id)}>ğŸ—‘ï¸</button>
                                    )}
                                </div>
                            </div>
                        ))}
                    </div>
                </div>
            );
        }

        function Modal({ type, item, currentUser, onClose, onSave }) {
            const [formData, setFormData] = useState(item || (
                type === 'feedback' ? {
                    type: 'complaint',
                    department: 'Yemek ve Ä°Ã§ecek',
                    title: '',
                    description: '',
                    guest_name: '',
                    room_number: '',
                    date: new Date().toISOString().split('T')[0],
                    status: 'open',
                    resolution: ''
                } : type === 'amenity' ? {
                    room_number: '',
                    amenity_type: 'Meyve Sepeti',
                    reason: '',
                    notes: ''
                } : type === 'restaurant' ? {
                    name: '',
                    description: '',
                    table_count: 10,
                    max_pax: 6,
                    opening_time: '18:00',
                    closing_time: '23:00',
                    is_active: true
                } : type === 'reservation' ? {
                    restaurant_id: '',
                    guest_name: '',
                    room_number: '',
                    phone: '',
                    pax: 2,
                    reservation_date: new Date().toISOString().split('T')[0],
                    reservation_time: '20:00',
                    status: 'confirmed',
                    special_requests: ''
                } : {
                    username: '',
                    password: '',
                    name: '',
                    role: 'user'
                }
            ));
            const [saving, setSaving] = useState(false);

            // RestoranlarÄ± almak iÃ§in
            const [restaurants, setRestaurants] = useState([]);
            
            useEffect(() => {
                if (type === 'reservation') {
                    supabase.from('restaurants').select('*').order('name').then(({ data }) => {
                        setRestaurants(data || []);
                        if (data && data.length > 0 && !formData.restaurant_id) {
                            setFormData({...formData, restaurant_id: data[0].id});
                        }
                    });
                }
            }, [type]);

            const handleSubmit = async (e) => {
                e.preventDefault();
                setSaving(true);
                await onSave(formData);
                setSaving(false);
            };

            return (
                <div className="modal-overlay" onClick={onClose}>
                    <div className="modal-content" onClick={(e) => e.stopPropagation()}>
                        <div className="modal-header">
                            <h2>
                                {item ? 'DÃ¼zenle' : 'Yeni Ekle'} - 
                                {type === 'feedback' ? ' Geri Bildirim' : 
                                 type === 'amenity' ? ' Oda Ä°kramÄ±' : 
                                 type === 'restaurant' ? ' Restoran' :
                                 type === 'reservation' ? ' Rezervasyon' : ' KullanÄ±cÄ±'}
                            </h2>
                            <button className="close-btn" onClick={onClose}>Ã—</button>
                        </div>

                        <form onSubmit={handleSubmit} className="modal-form">
                            {type === 'restaurant' ? (
                                <>
                                    <div className="form-group">
                                        <label>Restoran AdÄ± *</label>
                                        <input
                                            type="text"
                                            value={formData.name}
                                            onChange={(e) => setFormData({...formData, name: e.target.value})}
                                            placeholder="Ã–rn: La Dolce Vita"
                                            required
                                        />
                                    </div>

                                    <div className="form-group">
                                        <label>AÃ§Ä±klama</label>
                                        <textarea
                                            value={formData.description}
                                            onChange={(e) => setFormData({...formData, description: e.target.value})}
                                            rows={2}
                                            placeholder="Ã–rn: Ä°talyan mutfaÄŸÄ± - deniz manzaralÄ±"
                                        />
                                    </div>

                                    <div className="form-row">
                                        <div className="form-group">
                                            <label>Masa SayÄ±sÄ± *</label>
                                            <input
                                                type="number"
                                                value={formData.table_count}
                                                onChange={(e) => setFormData({...formData, table_count: parseInt(e.target.value)})}
                                                min="1"
                                                required
                                            />
                                        </div>
                                        <div className="form-group">
                                            <label>Maksimum KiÅŸi *</label>
                                            <input
                                                type="number"
                                                value={formData.max_pax}
                                                onChange={(e) => setFormData({...formData, max_pax: parseInt(e.target.value)})}
                                                min="1"
                                                required
                                            />
                                        </div>
                                    </div>

                                    <div className="form-row">
                                        <div className="form-group">
                                            <label>AÃ§Ä±lÄ±ÅŸ Saati *</label>
                                            <input
                                                type="time"
                                                value={formData.opening_time}
                                                onChange={(e) => setFormData({...formData, opening_time: e.target.value})}
                                                required
                                            />
                                        </div>
                                        <div className="form-group">
                                            <label>KapanÄ±ÅŸ Saati *</label>
                                            <input
                                                type="time"
                                                value={formData.closing_time}
                                                onChange={(e) => setFormData({...formData, closing_time: e.target.value})}
                                                required
                                            />
                                        </div>
                                    </div>

                                    <div className="form-group">
                                        <label style={{display: 'flex', alignItems: 'center', gap: '8px'}}>
                                            <input
                                                type="checkbox"
                                                checked={formData.is_active}
                                                onChange={(e) => setFormData({...formData, is_active: e.target.checked})}
                                            />
                                            Aktif (rezervasyon alÄ±nsÄ±n)
                                        </label>
                                    </div>
                                </>
                            ) : type === 'reservation' ? (
                                <>
                                    <div className="form-group">
                                        <label>Restoran *</label>
                                        <select
                                            value={formData.restaurant_id}
                                            onChange={(e) => setFormData({...formData, restaurant_id: e.target.value})}
                                            required
                                        >
                                            <option value="">SeÃ§iniz...</option>
                                            {restaurants.map(r => (
                                                <option key={r.id} value={r.id}>{r.name}</option>
                                            ))}
                                        </select>
                                    </div>

                                    <div className="form-row">
                                        <div className="form-group">
                                            <label>Misafir AdÄ± *</label>
                                            <input
                                                type="text"
                                                value={formData.guest_name}
                                                onChange={(e) => setFormData({...formData, guest_name: e.target.value})}
                                                required
                                            />
                                        </div>
                                        <div className="form-group">
                                            <label>Oda No *</label>
                                            <input
                                                type="text"
                                                value={formData.room_number}
                                                onChange={(e) => setFormData({...formData, room_number: e.target.value})}
                                                required
                                            />
                                        </div>
                                    </div>

                                    <div className="form-row">
                                        <div className="form-group">
                                            <label>Telefon</label>
                                            <input
                                                type="tel"
                                                value={formData.phone}
                                                onChange={(e) => setFormData({...formData, phone: e.target.value})}
                                                placeholder="+90 5XX XXX XX XX"
                                            />
                                        </div>
                                        <div className="form-group">
                                            <label>KiÅŸi SayÄ±sÄ± *</label>
                                            <input
                                                type="number"
                                                value={formData.pax}
                                                onChange={(e) => setFormData({...formData, pax: parseInt(e.target.value)})}
                                                min="1"
                                                required
                                            />
                                        </div>
                                    </div>

                                    <div className="form-row">
                                        <div className="form-group">
                                            <label>Tarih *</label>
                                            <input
                                                type="date"
                                                value={formData.reservation_date}
                                                onChange={(e) => setFormData({...formData, reservation_date: e.target.value})}
                                                required
                                            />
                                        </div>
                                        <div className="form-group">
                                            <label>Saat *</label>
                                            <input
                                                type="time"
                                                value={formData.reservation_time}
                                                onChange={(e) => setFormData({...formData, reservation_time: e.target.value})}
                                                required
                                            />
                                        </div>
                                    </div>

                                    <div className="form-group">
                                        <label>Durum *</label>
                                        <select
                                            value={formData.status}
                                            onChange={(e) => setFormData({...formData, status: e.target.value})}
                                            required
                                        >
                                            <option value="confirmed">OnaylÄ±</option>
                                            <option value="pending">Beklemede</option>
                                            <option value="cancelled">Ä°ptal</option>
                                        </select>
                                    </div>

                                    <div className="form-group">
                                        <label>Ã–zel Ä°stekler</label>
                                        <textarea
                                            value={formData.special_requests}
                                            onChange={(e) => setFormData({...formData, special_requests: e.target.value})}
                                            rows={3}
                                            placeholder="Ã–rn: Pencere kenarÄ± masa, doÄŸum gÃ¼nÃ¼ kutlamasÄ±..."
                                        />
                                    </div>
                                </>
                            ) : type === 'feedback' ? (
                                <>
                                    <div className="form-row">
                                        <div className="form-group">
                                            <label>Tip *</label>
                                            <select value={formData.type} onChange={(e) => setFormData({...formData, type: e.target.value})} required>
                                                <option value="complaint">Åikayet</option>
                                                <option value="positive">Olumlu DÃ¶nÃ¼ÅŸ</option>
                                            </select>
                                        </div>
                                        <div className="form-group">
                                            <label>Departman *</label>
                                            <select value={formData.department} onChange={(e) => setFormData({...formData, department: e.target.value})} required>
                                                {DEPARTMENTS.map(d => <option key={d} value={d}>{d}</option>)}
                                            </select>
                                        </div>
                                    </div>

                                    <div className="form-group">
                                        <label>BaÅŸlÄ±k *</label>
                                        <input type="text" value={formData.title} onChange={(e) => setFormData({...formData, title: e.target.value})} required />
                                    </div>

                                    <div className="form-group">
                                        <label>AÃ§Ä±klama *</label>
                                        <textarea value={formData.description} onChange={(e) => setFormData({...formData, description: e.target.value})} rows={4} required />
                                    </div>

                                    <div className="form-row">
                                        <div className="form-group">
                                            <label>Misafir AdÄ± *</label>
                                            <input type="text" value={formData.guest_name} onChange={(e) => setFormData({...formData, guest_name: e.target.value})} required />
                                        </div>
                                        <div className="form-group">
                                            <label>Oda No *</label>
                                            <input type="text" value={formData.room_number} onChange={(e) => setFormData({...formData, room_number: e.target.value})} required />
                                        </div>
                                    </div>

                                    <div className="form-row">
                                        <div className="form-group">
                                            <label>Tarih *</label>
                                            <input type="date" value={formData.date} onChange={(e) => setFormData({...formData, date: e.target.value})} required />
                                        </div>
                                        <div className="form-group">
                                            <label>Durum *</label>
                                            <select value={formData.status} onChange={(e) => setFormData({...formData, status: e.target.value})} required>
                                                <option value="open">AÃ§Ä±k</option>
                                                <option value="closed">KapalÄ±</option>
                                            </select>
                                        </div>
                                    </div>

                                    {formData.type === 'complaint' && (
                                        <div className="form-group">
                                            <label>
                                                Ã‡Ã¶zÃ¼m AÃ§Ä±klamasÄ± {formData.status === 'closed' && '* (ZORUNLU)'}
                                            </label>
                                            <textarea
                                                value={formData.resolution || ''}
                                                onChange={(e) => setFormData({...formData, resolution: e.target.value})}
                                                rows={3}
                                                placeholder="Åikayetin nasÄ±l Ã§Ã¶zÃ¼ldÃ¼ÄŸÃ¼nÃ¼ aÃ§Ä±klayÄ±n..."
                                                required={formData.status === 'closed'}
                                            />
                                            {formData.status === 'closed' && (
                                                <small style={{color: '#dc2626', fontSize: '12px'}}>
                                                    âš ï¸ Åikayet kapatÄ±lÄ±rken Ã§Ã¶zÃ¼m aÃ§Ä±klamasÄ± zorunludur!
                                                </small>
                                            )}
                                        </div>
                                    )}
                                </>
                            ) : type === 'amenity' ? (
                                <>
                                    <div className="form-row">
                                        <div className="form-group">
                                            <label>Oda NumarasÄ± *</label>
                                            <input type="text" value={formData.room_number} onChange={(e) => setFormData({...formData, room_number: e.target.value})} placeholder="Ã–rn: 305" required />
                                        </div>
                                        <div className="form-group">
                                            <label>Ä°kram TÃ¼rÃ¼ *</label>
                                            <select value={formData.amenity_type} onChange={(e) => setFormData({...formData, amenity_type: e.target.value})} required>
                                                {AMENITY_TYPES.map(type => <option key={type} value={type}>{type}</option>)}
                                            </select>
                                        </div>
                                    </div>

                                    <div className="form-group">
                                        <label>Ä°kram Sebebi *</label>
                                        <textarea value={formData.reason} onChange={(e) => setFormData({...formData, reason: e.target.value})} rows={3} placeholder="Ã–rn: BalayÄ±, doÄŸum gÃ¼nÃ¼..." required />
                                    </div>

                                    <div className="form-group">
                                        <label>Ek Notlar</label>
                                        <textarea value={formData.notes || ''} onChange={(e) => setFormData({...formData, notes: e.target.value})} rows={2} placeholder="Opsiyonel..." />
                                    </div>
                                </>
                            ) : (
                                <>
                                    <div className="form-group">
                                        <label>Ad Soyad *</label>
                                        <input type="text" value={formData.name || ''} onChange={(e) => setFormData({...formData, name: e.target.value})} required />
                                    </div>

                                    <div className="form-group">
                                        <label>KullanÄ±cÄ± AdÄ± *</label>
                                        <input type="text" value={formData.username || ''} onChange={(e) => setFormData({...formData, username: e.target.value})} required />
                                    </div>

                                    <div className="form-group">
                                        <label>Åifre {!item && '*'}</label>
                                        <input type="password" value={formData.password || ''} onChange={(e) => setFormData({...formData, password: e.target.value})} required={!item} placeholder={item ? 'DeÄŸiÅŸtirmek iÃ§in girin' : ''} />
                                    </div>

                                    <div className="form-group">
                                        <label>Rol *</label>
                                        <select value={formData.role || 'user'} onChange={(e) => setFormData({...formData, role: e.target.value})} required>
                                            <option value="user">Personel</option>
                                            <option value="admin">YÃ¶netici</option>
                                        </select>
                                    </div>
                                </>
                            )}

                            <div className="modal-actions">
                                <button type="button" className="btn btn-secondary" onClick={onClose} disabled={saving}>Ä°ptal</button>
                                <button type="submit" className="btn btn-primary" disabled={saving}>
                                    {saving ? <span className="spinner"></span> : (item ? 'GÃ¼ncelle' : 'Kaydet')}
                                </button>
                            </div>
                        </form>
                    </div>
                </div>
            );
        }

        // ==================== RENDER ====================
        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>

    <style>
        :root {
            --primary: #14285a;
            --accent: #d4af37;
            --danger: #ef4444;
            --success: #22c55e;
            --warning: #f59e0b;
            --gray-50: #f9fafb;
            --gray-100: #f3f4f6;
            --gray-200: #e5e7eb;
            --gray-700: #374151;
            --gray-900: #111827;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', sans-serif;
            background: var(--gray-50);
            color: var(--gray-900);
        }

        h1, h2, h3 {
            font-family: 'Playfair Display', serif;
            font-weight: 700;
        }

        /* LOGIN */
        .login-page {
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
            overflow: hidden;
        }

        .login-bg {
            position: absolute;
            inset: 0;
            background: linear-gradient(135deg, var(--primary) 0%, #312e81 100%);
        }

        .login-container {
            position: relative;
            z-index: 1;
            padding: 24px;
            width: 100%;
            max-width: 480px;
        }

        .login-card {
            background: white;
            border-radius: 24px;
            padding: 48px;
            box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25);
            animation: slideIn 0.6s ease-out;
        }

        @keyframes slideIn {
            from { opacity: 0; transform: translateY(30px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .login-logo {
            text-align: center;
            margin-bottom: 40px;
        }

        .logo-icon {
            font-size: 72px;
            margin-bottom: 16px;
            display: inline-block;
        }

        .login-logo h1 {
            font-size: 32px;
            color: var(--primary);
            margin-bottom: 4px;
        }

        .login-logo p {
            color: var(--gray-700);
            font-size: 14px;
            text-transform: uppercase;
            letter-spacing: 2px;
        }

        .login-form {
            display: flex;
            flex-direction: column;
            gap: 24px;
        }

        .form-group {
            display: flex;
            flex-direction: column;
            gap: 8px;
        }

        .form-group label {
            font-size: 14px;
            font-weight: 600;
            color: var(--gray-700);
        }

        .form-group input,
        .form-group select,
        .form-group textarea {
            padding: 14px 16px;
            border: 2px solid var(--gray-200);
            border-radius: 12px;
            font-size: 15px;
            font-family: inherit;
            transition: all 0.3s;
        }

        .form-group input:focus,
        .form-group select:focus,
        .form-group textarea:focus {
            outline: none;
            border-color: var(--accent);
            box-shadow: 0 0 0 4px rgba(212, 175, 55, 0.1);
        }

        .btn-login {
            padding: 16px;
            background: linear-gradient(135deg, var(--accent) 0%, #b8941f 100%);
            color: white;
            border: none;
            border-radius: 12px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
        }

        .btn-login:hover:not(:disabled) {
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(212, 175, 55, 0.4);
        }

        .btn-login:disabled {
            opacity: 0.6;
            cursor: not-allowed;
        }

        .login-footer {
            margin-top: 32px;
            padding-top: 24px;
            border-top: 1px solid var(--gray-200);
            text-align: center;
        }

        .demo-info {
            font-size: 12px;
            color: var(--gray-700);
            margin-bottom: 12px;
            font-weight: 600;
            text-transform: uppercase;
        }

        .demo-accounts {
            display: flex;
            flex-direction: column;
            gap: 8px;
            font-size: 13px;
            color: var(--gray-700);
        }

        .alert-error {
            padding: 12px 16px;
            background: #fee2e2;
            color: #991b1b;
            border-radius: 12px;
            font-size: 14px;
            border-left: 4px solid var(--danger);
        }

        .spinner {
            display: inline-block;
            width: 20px;
            height: 20px;
            border: 3px solid rgba(255,255,255,.3);
            border-radius: 50%;
            border-top-color: #fff;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        /* APP LAYOUT */
        .app {
            display: flex;
            min-height: 100vh;
        }

        /* SIDEBAR */
        .sidebar {
            width: 280px;
            background: linear-gradient(180deg, var(--primary) 0%, #312e81 100%);
            color: white;
            display: flex;
            flex-direction: column;
            box-shadow: 4px 0 24px rgba(0, 0, 0, 0.1);
        }

        .sidebar-header {
            padding: 32px 24px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 16px;
        }

        .logo .logo-icon {
            font-size: 48px;
        }

        .logo h2 {
            font-size: 22px;
            margin-bottom: 2px;
        }

        .logo p {
            font-size: 12px;
            opacity: 0.8;
            text-transform: uppercase;
            letter-spacing: 1.5px;
        }

        .sidebar-nav {
            flex: 1;
            padding: 24px 16px;
            display: flex;
            flex-direction: column;
            gap: 8px;
        }

        .sidebar-nav button {
            padding: 14px 20px;
            background: transparent;
            color: white;
            border: none;
            border-radius: 12px;
            font-size: 15px;
            text-align: left;
            cursor: pointer;
            transition: all 0.3s;
            font-weight: 500;
            display: flex;
            align-items: center;
            gap: 12px;
            font-family: inherit;
        }

        .nav-icon {
            font-size: 20px;
        }

        .sidebar-nav button:hover {
            background: rgba(255, 255, 255, 0.1);
        }

        .sidebar-nav button.active {
            background: var(--accent);
            box-shadow: 0 4px 12px rgba(212, 175, 55, 0.3);
        }

        .sidebar-footer {
            padding: 24px 16px;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
        }

        .user-card {
            display: flex;
            align-items: center;
            gap: 12px;
            margin-bottom: 16px;
            padding: 12px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 12px;
        }

        .user-avatar {
            width: 44px;
            height: 44px;
            background: var(--accent);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 18px;
            font-weight: 700;
        }

        .user-info {
            flex: 1;
        }

        .user-name {
            font-size: 14px;
            font-weight: 600;
        }

        .user-role {
            font-size: 12px;
            opacity: 0.8;
        }

        .btn-logout {
            width: 100%;
            padding: 12px;
            background: rgba(239, 68, 68, 0.2);
            color: white;
            border: 1px solid rgba(239, 68, 68, 0.3);
            border-radius: 12px;
            font-size: 14px;
            cursor: pointer;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            font-family: inherit;
        }

        .btn-logout:hover {
            background: rgba(239, 68, 68, 0.3);
        }

        /* MAIN CONTENT */
        .main-content {
            flex: 1;
            overflow-y: auto;
        }

        .view-container {
            padding: 40px;
            max-width: 1400px;
            margin: 0 auto;
            animation: fadeIn 0.5s ease-out;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        .view-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 32px;
        }

        .view-header h1 {
            font-size: 36px;
            color: var(--primary);
            margin-bottom: 8px;
        }

        .view-header p {
            color: var(--gray-700);
            font-size: 16px;
        }

        .header-actions {
            display: flex;
            gap: 12px;
        }

        /* BUTTONS */
        .btn {
            padding: 12px 24px;
            border: none;
            border-radius: 12px;
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            display: inline-flex;
            align-items: center;
            gap: 8px;
            font-family: inherit;
        }

        .btn-primary {
            background: var(--accent);
            color: white;
            box-shadow: 0 4px 12px rgba(212, 175, 55, 0.3);
        }

        .btn-primary:hover {
            transform: translateY(-2px);
        }

        .btn-secondary {
            background: white;
            color: var(--gray-700);
            border: 1px solid var(--gray-200);
        }

        .btn-ghost {
            background: transparent;
            color: var(--gray-700);
        }

        .btn-ghost:hover {
            background: var(--gray-100);
        }

        /* KPI CARDS */
        .kpi-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 24px;
            margin-bottom: 32px;
        }

        .kpi-card {
            background: white;
            padding: 28px;
            border-radius: 16px;
            display: flex;
            align-items: center;
            gap: 20px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
            border-left: 4px solid;
            transition: all 0.3s;
        }

        .kpi-card:hover {
            transform: translateY(-4px);
            box-shadow: 0 8px 24px rgba(0, 0, 0, 0.1);
        }

        .kpi-card.primary { border-color: var(--primary); }
        .kpi-card.danger { border-color: var(--danger); }
        .kpi-card.success { border-color: var(--success); }
        .kpi-card.warning { border-color: var(--warning); }

        .kpi-icon {
            font-size: 48px;
        }

        .kpi-label {
            font-size: 13px;
            color: var(--gray-700);
            margin-bottom: 8px;
            text-transform: uppercase;
        }

        .kpi-value {
            font-size: 40px;
            font-weight: 700;
            color: var(--primary);
            line-height: 1;
            margin-bottom: 4px;
        }

        .kpi-sub {
            font-size: 13px;
            color: var(--gray-700);
        }

        /* CHARTS */
        .charts-row {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));
            gap: 24px;
            margin-bottom: 32px;
        }

        .chart-card {
            background: white;
            padding: 28px;
            border-radius: 16px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
        }

        .chart-card h3 {
            font-size: 18px;
            color: var(--primary);
            margin-bottom: 24px;
        }

        .chart-container {
            position: relative;
            height: 300px;
        }

        .chart-container.large {
            height: 400px;
        }

        /* RECENT SECTION */
        .recent-section {
            background: white;
            padding: 28px;
            border-radius: 16px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
        }

        .recent-section h3 {
            font-size: 20px;
            color: var(--primary);
            margin-bottom: 24px;
        }

        .feedback-quick-list {
            display: grid;
            gap: 16px;
        }

        .quick-item {
            padding: 20px;
            border-radius: 12px;
            border: 2px solid var(--gray-200);
            transition: all 0.3s;
            position: relative;
        }

        .quick-item:hover {
            border-color: var(--accent);
        }

        .quick-item.complaint {
            background: #fef2f2;
            border-color: #fecaca;
        }

        .quick-item.positive {
            background: #f0fdf4;
            border-color: #bbf7d0;
        }

        .quick-item.overdue {
            border-color: var(--danger);
            border-width: 3px;
        }

        .quick-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 12px;
        }

        .quick-date {
            font-size: 13px;
            color: var(--gray-700);
        }

        .quick-item h4 {
            font-size: 17px;
            color: var(--primary);
            margin-bottom: 8px;
        }

        .quick-item p {
            font-size: 14px;
            color: var(--gray-700);
            line-height: 1.6;
            margin-bottom: 12px;
        }

        .quick-meta {
            display: flex;
            gap: 16px;
            font-size: 13px;
            color: var(--gray-700);
        }

        .overdue-alert {
            margin-top: 12px;
            padding: 8px 12px;
            background: var(--danger);
            color: white;
            border-radius: 8px;
            font-size: 12px;
            font-weight: 600;
            display: inline-block;
        }

        /* FILTERS */
        .filters-panel {
            background: white;
            padding: 24px;
            border-radius: 16px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
            margin-bottom: 24px;
        }

        .filter-row {
            display: flex;
            gap: 12px;
            flex-wrap: wrap;
            margin-bottom: 16px;
        }

        .search-input {
            flex: 1;
            min-width: 300px;
            padding: 12px 16px;
            border: 2px solid var(--gray-200);
            border-radius: 12px;
            font-size: 15px;
            font-family: inherit;
        }

        .search-input:focus {
            outline: none;
            border-color: var(--accent);
        }

        .filter-row select {
            padding: 12px 16px;
            border: 2px solid var(--gray-200);
            border-radius: 12px;
            font-size: 14px;
            font-family: inherit;
        }

        .sort-row {
            display: flex;
            align-items: center;
            gap: 12px;
            font-size: 14px;
            color: var(--gray-700);
        }

        .sort-row select {
            padding: 8px 12px;
            border: 2px solid var(--gray-200);
            border-radius: 8px;
            font-size: 14px;
            font-family: inherit;
        }

        /* FEEDBACKS */
        .feedbacks-grid {
            display: grid;
            gap: 20px;
        }

        .feedback-card {
            background: white;
            padding: 28px;
            border-radius: 16px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
            border-left: 4px solid var(--gray-200);
            transition: all 0.3s;
            position: relative;
        }

        .feedback-card:hover {
            box-shadow: 0 8px 24px rgba(0, 0, 0, 0.1);
        }

        .feedback-card.complaint {
            border-left-color: var(--danger);
        }

        .feedback-card.positive {
            border-left-color: var(--success);
        }

        .feedback-card.overdue {
            border-left-width: 6px;
        }

        .overdue-ribbon {
            position: absolute;
            top: 20px;
            right: 20px;
            background: var(--danger);
            color: white;
            padding: 6px 12px;
            border-radius: 8px;
            font-size: 11px;
            font-weight: 700;
            animation: pulse 2s ease-in-out infinite;
        }

        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.7; }
        }

        .card-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 16px;
        }

        .card-badges {
            display: flex;
            gap: 8px;
            flex-wrap: wrap;
        }

        .badge {
            padding: 6px 12px;
            border-radius: 8px;
            font-size: 12px;
            font-weight: 600;
        }

        .badge-complaint {
            background: #fee2e2;
            color: #991b1b;
        }

        .badge-positive {
            background: #dcfce7;
            color: #166534;
        }

        .badge-status-open {
            background: #fef3c7;
            color: #92400e;
        }

        .badge-status-closed {
            background: #dbeafe;
            color: #1e40af;
        }

        .badge-dept {
            background: var(--gray-100);
            color: var(--gray-700);
        }

        .badge-admin {
            background: #fef3c7;
            color: #92400e;
        }

        .badge-user {
            background: #dbeafe;
            color: #1e40af;
        }

        .card-actions {
            display: flex;
            gap: 8px;
        }

        .action-btn {
            padding: 8px 12px;
            background: var(--gray-100);
            border: none;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s;
            font-size: 16px;
        }

        .action-btn:hover {
            background: var(--gray-200);
        }

        .action-btn.danger {
            color: var(--danger);
        }

        .action-btn.danger:hover {
            background: #fee2e2;
        }

        .card-title {
            font-size: 20px;
            color: var(--primary);
            margin-bottom: 12px;
        }

        .card-description {
            font-size: 15px;
            color: var(--gray-700);
            line-height: 1.6;
            margin-bottom: 16px;
        }

        .resolution-box {
            background: #f0fdf4;
            border-left: 4px solid var(--success);
            padding: 12px 16px;
            border-radius: 8px;
            margin-bottom: 16px;
            font-size: 14px;
            color: var(--gray-700);
        }

        .resolution-box strong {
            color: var(--success);
        }

        .card-footer {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding-top: 16px;
            border-top: 1px solid var(--gray-200);
        }

        .card-meta {
            display: flex;
            gap: 16px;
            font-size: 14px;
            color: var(--gray-700);
        }

        .card-date {
            font-size: 13px;
            color: var(--gray-700);
        }

        /* AMENITIES */
        .amenities-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));
            gap: 20px;
        }

        .amenity-card {
            background: white;
            padding: 24px;
            border-radius: 16px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
            border-left: 4px solid var(--accent);
            transition: all 0.3s;
        }

        .amenity-card:hover {
            box-shadow: 0 8px 24px rgba(0, 0, 0, 0.1);
            transform: translateY(-2px);
        }

        .amenity-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 16px;
        }

        .amenity-icon {
            font-size: 40px;
        }

        .amenity-room {
            flex: 1;
            text-align: center;
            font-size: 18px;
            font-weight: 700;
            color: var(--primary);
        }

        .amenity-type {
            font-size: 20px;
            color: var(--accent);
            margin-bottom: 12px;
        }

        .amenity-reason,
        .amenity-notes {
            font-size: 14px;
            color: var(--gray-700);
            line-height: 1.6;
            margin-bottom: 8px;
        }

        .amenity-notes {
            font-style: italic;
        }

        .amenity-footer {
            display: flex;
            justify-content: space-between;
            font-size: 12px;
            color: var(--gray-700);
            padding-top: 16px;
            border-top: 1px solid var(--gray-200);
        }

        /* ANALYTICS */
        .analytics-grid {
            display: grid;
            gap: 24px;
        }

        .analytics-card {
            background: white;
            padding: 28px;
            border-radius: 16px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
        }

        .analytics-card h3 {
            font-size: 20px;
            color: var(--primary);
            margin-bottom: 24px;
        }

        .table-container {
            overflow-x: auto;
        }

        .data-table {
            width: 100%;
            border-collapse: collapse;
        }

        .data-table th,
        .data-table td {
            padding: 12px 16px;
            text-align: left;
            border-bottom: 1px solid var(--gray-200);
        }

        .data-table th {
            font-size: 13px;
            font-weight: 700;
            color: var(--gray-700);
            text-transform: uppercase;
        }

        .data-table td {
            font-size: 14px;
            color: var(--gray-700);
        }

        .data-table tr:hover {
            background: var(--gray-50);
        }

        .text-danger { color: var(--danger); }
        .text-success { color: var(--success); }

        .progress-bar {
            height: 8px;
            background: var(--gray-200);
            border-radius: 4px;
            overflow: hidden;
            margin-bottom: 4px;
        }

        .progress-fill {
            height: 100%;
            transition: width 0.5s ease;
        }

        .progress-fill.success {
            background: var(--success);
        }

        .progress-label {
            font-size: 12px;
            font-weight: 600;
            color: var(--gray-700);
        }

        /* USERS */
        .users-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 20px;
        }

        .user-card-item {
            background: white;
            padding: 24px;
            border-radius: 16px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
            display: flex;
            gap: 16px;
            align-items: center;
            transition: all 0.3s;
        }

        .user-card-item:hover {
            box-shadow: 0 8px 24px rgba(0, 0, 0, 0.1);
            transform: translateY(-2px);
        }

        .user-avatar-large {
            width: 64px;
            height: 64px;
            background: var(--accent);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 28px;
            font-weight: 700;
            color: white;
        }

        .user-details {
            flex: 1;
        }

        .user-details h3 {
            font-size: 18px;
            color: var(--primary);
            margin-bottom: 4px;
        }

        .user-details p {
            font-size: 14px;
            color: var(--gray-700);
            margin-bottom: 8px;
        }

        .user-actions {
            display: flex;
            gap: 8px;
        }

        /* MODAL */
        .modal-overlay {
            position: fixed;
            inset: 0;
            background: rgba(0, 0, 0, 0.5);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 1000;
            padding: 20px;
            animation: fadeIn 0.3s ease-out;
        }

        .modal-content {
            background: white;
            border-radius: 20px;
            max-width: 600px;
            width: 100%;
            max-height: 90vh;
            overflow-y: auto;
            box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25);
            animation: slideIn 0.3s ease-out;
        }

        .modal-header {
            padding: 28px 32px;
            border-bottom: 1px solid var(--gray-200);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .modal-header h2 {
            font-size: 24px;
            color: var(--primary);
        }

        .close-btn {
            width: 40px;
            height: 40px;
            border: none;
            background: var(--gray-100);
            border-radius: 50%;
            font-size: 24px;
            cursor: pointer;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--gray-700);
        }

        .close-btn:hover {
            background: var(--gray-200);
        }

        .modal-form {
            padding: 32px;
            display: flex;
            flex-direction: column;
            gap: 20px;
        }

        .form-row {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 16px;
        }

        .modal-actions {
            display: flex;
            gap: 12px;
            justify-content: flex-end;
            margin-top: 8px;
        }

        /* RESPONSIVE */
        @media (max-width: 768px) {
            .app {
                flex-direction: column;
            }

            .sidebar {
                width: 100%;
            }

            .view-container {
                padding: 24px;
            }

            .view-header {
                flex-direction: column;
                gap: 16px;
            }

            .header-actions {
                width: 100%;
                flex-direction: column;
            }

            .kpi-grid,
            .charts-row,
            .users-grid,
            .amenities-grid {
                grid-template-columns: 1fr;
            }

            .form-row {
                grid-template-columns: 1fr;
            }

            .filter-row {
                flex-direction: column;
            }

            .search-input {
                min-width: 100%;
            }
        }

        /* A'LA CARTE */
        .tabs {
            display: flex;
            gap: 8px;
            margin-bottom: 24px;
            border-bottom: 2px solid var(--gray-200);
        }

        .tab {
            padding: 12px 24px;
            background: transparent;
            border: none;
            border-bottom: 3px solid transparent;
            font-size: 15px;
            font-weight: 600;
            color: var(--gray-700);
            cursor: pointer;
            transition: all 0.3s;
            font-family: inherit;
        }

        .tab:hover {
            color: var(--primary);
        }

        .tab.active {
            color: var(--accent);
            border-bottom-color: var(--accent);
        }

        .section-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 24px;
        }

        .section-header h2 {
            font-size: 24px;
            color: var(--primary);
        }

        .reservations-grid {
            display: grid;
            gap: 20px;
        }

        .reservation-card {
            background: white;
            padding: 24px;
            border-radius: 16px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
            border-left: 4px solid var(--accent);
            transition: all 0.3s;
        }

        .reservation-card:hover {
            box-shadow: 0 8px 24px rgba(0, 0, 0, 0.1);
        }

        .reservation-restaurant {
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .reservation-restaurant h3 {
            font-size: 20px;
            color: var(--primary);
        }

        .reservation-details {
            display: grid;
            gap: 12px;
            margin-top: 20px;
        }

        .detail-row {
            display: flex;
            gap: 12px;
            font-size: 14px;
        }

        .detail-label {
            font-weight: 600;
            color: var(--gray-700);
            min-width: 120px;
        }

        .detail-value {
            color: var(--gray-900);
        }

        .restaurants-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));
            gap: 24px;
        }

        .restaurant-card {
            background: white;
            padding: 28px;
            border-radius: 16px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
            border-left: 4px solid var(--accent);
            transition: all 0.3s;
        }

        .restaurant-card:hover {
            box-shadow: 0 8px 24px rgba(0, 0, 0, 0.1);
            transform: translateY(-2px);
        }

        .restaurant-card h3 {
            font-size: 22px;
            color: var(--primary);
            margin-bottom: 8px;
        }

        .restaurant-description {
            font-size: 14px;
            color: var(--gray-700);
            margin: 16px 0;
            line-height: 1.6;
        }

        .restaurant-info {
            display: flex;
            flex-direction: column;
            gap: 16px;
            margin-top: 20px;
            padding-top: 20px;
            border-top: 1px solid var(--gray-200);
        }

        .info-item {
            display: flex;
            align-items: center;
            gap: 16px;
        }

        .info-icon {
            font-size: 32px;
            width: 48px;
            height: 48px;
            display: flex;
            align-items: center;
            justify-content: center;
            background: var(--gray-50);
            border-radius: 12px;
        }

        .info-label {
            font-size: 12px;
            color: var(--gray-700);
            text-transform: uppercase;
            margin-bottom: 4px;
        }

        .info-value {
            font-size: 16px;
            font-weight: 600;
            color: var(--primary);
        }

        .badge-success {
            background: #dcfce7;
            color: #166534;
        }

        .badge-danger {
            background: #fee2e2;
            color: #991b1b;
        }
    </style>
</body>
</html>
